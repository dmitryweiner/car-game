<html>
<head>
    <style>
        #car {
            position: relative;
            top: 250px;
            left: 250px;
            height: 30px;
            width: 30px;
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AMODBEsFfQKVgAABARJREFUSMetl8uLHFUUh79zb1V3dff0PDK+ZjSJAYnBTZSIRkQjBEOWZiWIf4NLd9m6CS5duBQ3EjQrSRAEsxAUAsaNqCAKSSbGPJhHpqe7uqrOL4vqGSYiTmv3LQpuFafOx3n86lQZ/2F9Ao0u1swsJjkEAQ3khaqyB/m7MBzXl41jJLDzafravlJvBwsvJ3DwRvrIvMs4UN5ZL+CaVF3JA+cfq6pvXgLfy2ccB7w013yzeOXoF0s3119f8LjcDUm7FTthnhAepWhnFpdCmhxbOfH8meuD3tUv7w9+mxj8MTQ6C/Pv71vvv7q41iezSCQyo4KuCgwjbKdlMGhi5m9tbF28ANW/+U32Aj8Tkmzm9sYLgR7tkBKJJBYJBEC4GSbIEAs315hXeawfkhZe5hOBm1iCheVokYzIKsY1VWxQ4YgOxn6DxxXpB1HIn4z4nn73NAhmQVgnI/CphnyrintyenV2yYBFM45bwjuWUGBZxGxicErAMT7wnCuqEAbYjhz6wA05nyvnupW8Z4mPI5Uwho0XWHlLGkEf1qDt2q1I9CGPmE8MrsLc4a1dEdoO3B7ab69NS8KapYcmBq/D8Bb8kJkhoAByYIAzwMlH9xxombEi/3GVqjlxjQ+p9/P3+P0OgTngxZBx2DIWQ/3oPS/5QwN+0pAu8Luq9ZPEq1Normh/qWyeCk0+Cl2alpJYg0jEgDJUlCooNeQr3+SS9zMjTt7VZliOkiGQIwQ0AbO6SqUqckSO2EBsoagxZkAy5hTRGr7TRma7WssMVF/10Vg+xzJykED5P8jn72GVdbdanAY4AVUwcNWTwAFJyHw0BQSjEmiU4zANsCGEKtt2PjpcPsrI9n0nWG0wFXCoAykTYzQWhOOUVBjgOKKOPtZn2Z0GuFGXuJjBaqxqsI3mgMtx1Vlo1eD+bNipw/8Hl67QxdodICICwnBcEDEMJyASnCbQgcRdk8tpA28cwI7MA59VfRatYM4SAoGWGQM5d1WwooLDBkcIzxaoAfQmAm/h9pRZugic9R4JgWT0uWNmuESByHE+jG1mzfYN8DhxxFvInsZCezQIhoghqlU8qu326iK60N2gipOPRVwJqsIuObFLVtt7B6p6Z0P2rvGeYJcwqXQ583UGKEcgB8r6/cwCRkOOo2Eq+cSpzvFhw+wa+HPnYsYVdy5TsTLSyzKRN4gcD4GWKkr8NqicGHzKfevrYBfm8dMAp0PK6ZjyHU1WSTkZ7tMuoeclsyq4K11aMzan8idxIqS/zElzDVgqEmtvHUlM+1ueLbd89lBelqtlL+bVSi6/9Gews2fcV6fy71S/wlK7XNnRZhKfGB5ME82gBCnfNG9eL/rF0O+cM//1YllU47h7AHIV/Q20HDH4AAAAAElFTkSuQmCC');
        }

        #gameField {
            background-color: #adadad;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
</head>
<body>
<script>

    var Game = (function () {
        var max_x = null;
        var max_y = null;
        var x = null;
        var y = null;

        var v = 0.0;
        var v_decr = 0.05; // decrement of the velocity with time
        var v_acc = 0.2; // increment of the velocity with pressing accelerator
        var v_brake = 0.3; // decrement of brakes
        var v_max = 3.0;

        var angle = 0.0;
        var delta_angle = 5;

        var dt = 5; // time quant

        //keys
        var isArrowUpPressed = false;
        var isArrowDownPressed = false;
        var isArrowLeftPressed = false;
        var isArrowRightPressed = false;

        function keyUp(code) {
            switch (code) {
                case 37: // left
                    isArrowLeftPressed = false;
                    break;

                case 38: // up
                    isArrowUpPressed = false;
                    break;

                case 39: // right
                    isArrowRightPressed = false;
                    break;

                case 40: // down
                    isArrowDownPressed = false;
                    break;
            }
        }

        function keyDown(code) {
            switch (code) {
                case 37: // left
                    isArrowLeftPressed = true;
                    break;

                case 38: // up
                    isArrowUpPressed = true;
                    break;

                case 39: // right
                    isArrowRightPressed = true;
                    break;

                case 40: // down
                    isArrowDownPressed = true;
                    break;
            }
        }

        function handleKeys() {

            if (isArrowDownPressed) {
                v = v - v_brake;
                if (v < 0) {
                    v = 0;
                }
            } else if (isArrowUpPressed) {
                v = v + v_acc;
                if (v > v_max) {
                    v = v_max;
                }
            }

            if (isArrowLeftPressed) {
                angle = angle - delta_angle;
                if (angle < 0) {
                    angle = 360 + angle;
                }
            } else if (isArrowRightPressed) {
                angle = angle + delta_angle;
                if (angle > 359) {
                    angle = angle - 360;
                }
            }

        }

        function setGameField(maxX, maxY) {
            max_x = maxX;
            max_y = maxY;
            x = max_x / 2; //determine middle point
            y = max_y / 2;

        }

        function toRadians(angle) {
            return angle * (Math.PI / 180);
        }

        function run() {
            handleKeys();

            var x_old = x;
            var y_old = y;

            var vx = parseFloat(v * Math.sin(toRadians(180 - angle)));
            var vy = parseFloat(v * Math.cos(toRadians(180 - angle)));
            x = x + vx * dt;
            y = y + vy * dt;

            v = v - v_decr;
            if (v < 0) {
                v = 0;
            }

            //collision with border
            if (x > max_x || x < 0) {
                x = x_old;
                v = 0;
            }
            if (y > max_y || y < 0) {
                y = y_old;
                v = 0;
            }

            var car = document.getElementById('car');
            car.style = "left: " + x + "px; top: " + y + "px; transform:rotate(" + angle + "deg);";
        }

        return {
            run: run,
            setGameField: setGameField,
            keyUp: keyUp,
            keyDown: keyDown,
        }
    })();

    $(document).ready(function () {
        Game.setGameField(
                $('#gameField').width() - $('#car').width(),
                $('#gameField').height() - $('#car').height()
        );


        window.setInterval(Game.run, 50);

        $(document).keydown(function (e) {
            var keyCode = e.keyCode || e.which;
            if (keyCode > 40 || keyCode < 37) {
                return;
            }
            Game.keyDown(keyCode);
            e.preventDefault(); // prevent the default action (scroll / move caret)
        });

        $(document).keyup(function (e) {
            var keyCode = e.keyCode || e.which;
            if (keyCode > 40 || keyCode < 37) {
                return;
            }
            Game.keyUp(keyCode);
            e.preventDefault(); // prevent the default action (scroll / move caret)
        });
    });


</script>
<div id="gameField" style="width: 100%; height: 100%;">
    <div id="car"></div>
</div>
</body>
<html>